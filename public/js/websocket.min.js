var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n,r=function(t){return t&&t.Math==Math&&t},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},c=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,a="".split,s=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return u.call(t).slice(8,-1)}(t)?a.call(t,""):Object(t)}:Object,f=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},l=function(t){return s(f(t))},p=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=o.document,v=h(y)&&h(y.createElement),d=function(t){return v?y.createElement(t):{}},b=!p&&!c((function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a})),g=function(t){if(!h(t))throw TypeError(String(t)+" is not an object");return t},w=function(t,e){if(!h(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!h(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!h(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!h(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,S={f:p?m:function(t,e,n){if(g(t),e=w(e,!0),g(n),b)try{return m(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=p?function(t,e,n){return S.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},j=function(t,e){try{T(o,t,e)}catch(n){o[t]=e}return e},k=o["__core-js_shared__"]||j("__core-js_shared__",{}),_=e((function(t){(t.exports=function(t,e){return k[t]||(k[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),L={}.hasOwnProperty,P=function(t,e){return L.call(t,e)},E=0,x=Math.random(),A=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++E+x).toString(36)},I=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),M=I&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,C=_("wks"),R=o.Symbol,F=M?R:R&&R.withoutSetter||A,G=function(t){return P(C,t)||(I&&P(R,t)?C[t]=R[t]:C[t]=F("Symbol."+t)),C[t]},W=Math.ceil,D=Math.floor,N=function(t){return isNaN(t=+t)?0:(t>0?D:W)(t)},V=Math.min,H=Math.max,q=Math.min,z=function(t){return function(e,n,r){var o,i,c=l(e),u=(o=c.length)>0?V(N(o),9007199254740991):0,a=function(t,e){var n=N(t);return n<0?H(n+e,0):q(n,e)}(r,u);if(t&&n!=n){for(;u>a;)if((i=c[a++])!=i)return!0}else for(;u>a;a++)if((t||a in c)&&c[a]===n)return t||a||0;return!t&&-1}},B={includes:z(!0),indexOf:z(!1)},U={},Y=B.indexOf,J=function(t,e){var n,r=l(t),o=0,i=[];for(n in r)!P(U,n)&&P(r,n)&&i.push(n);for(;e.length>o;)P(r,n=e[o++])&&(~Y(i,n)||i.push(n));return i},K=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],X=Object.keys||function(t){return J(t,K)},Q=p?Object.defineProperties:function(t,e){g(t);for(var n,r=X(e),o=r.length,i=0;o>i;)S.f(t,n=r[i++],e[n]);return t},Z=o,$=function(t){return"function"==typeof t?t:void 0},tt=function(t,e){return arguments.length<2?$(Z[t])||$(o[t]):Z[t]&&Z[t][e]||o[t]&&o[t][e]},et=tt("document","documentElement"),nt=_("keys"),rt=function(t){return nt[t]||(nt[t]=A(t))},ot=rt("IE_PROTO"),it=function(){},ct=function(t){return"<script>"+t+"<\/script>"},ut=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ut=n?function(t){t.write(ct("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=d("iframe")).style.display="none",et.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ct("document.F=Object")),t.close(),t.F);for(var r=K.length;r--;)delete ut.prototype[K[r]];return ut()};U[ot]=!0;var at=Object.create||function(t,e){var n;return null!==t?(it.prototype=g(t),n=new it,it.prototype=null,n[ot]=t):n=ut(),void 0===e?n:Q(n,e)},st=G("unscopables"),ft=Array.prototype;null==ft[st]&&S.f(ft,st,{configurable:!0,value:at(null)});var lt=function(t){ft[st][t]=!0},pt={},ht=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(t){return ht.call(t)});var yt,vt,dt,bt=k.inspectSource,gt=o.WeakMap,wt="function"==typeof gt&&/native code/.test(bt(gt)),mt=o.WeakMap;if(wt){var St=k.state||(k.state=new mt),Ot=St.get,Tt=St.has,jt=St.set;yt=function(t,e){return e.facade=t,jt.call(St,t,e),e},vt=function(t){return Ot.call(St,t)||{}},dt=function(t){return Tt.call(St,t)}}else{var kt=rt("state");U[kt]=!0,yt=function(t,e){return e.facade=t,T(t,kt,e),e},vt=function(t){return P(t,kt)?t[kt]:{}},dt=function(t){return P(t,kt)}}var _t,Lt,Pt,Et={set:yt,get:vt,has:dt,enforce:function(t){return dt(t)?vt(t):yt(t,{})},getterFor:function(t){return function(e){var n;if(!h(e)||(n=vt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},xt={}.propertyIsEnumerable,At=Object.getOwnPropertyDescriptor,It={f:At&&!xt.call({1:2},1)?function(t){var e=At(this,t);return!!e&&e.enumerable}:xt},Mt=Object.getOwnPropertyDescriptor,Ct={f:p?Mt:function(t,e){if(t=l(t),e=w(e,!0),b)try{return Mt(t,e)}catch(t){}if(P(t,e))return O(!It.f.call(t,e),t[e])}},Rt=e((function(t){var e=Et.get,n=Et.enforce,r=String(String).split("String");(t.exports=function(t,e,i,c){var u,a=!!c&&!!c.unsafe,s=!!c&&!!c.enumerable,f=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof e||P(i,"name")||T(i,"name",e),(u=n(i)).source||(u.source=r.join("string"==typeof e?e:""))),t!==o?(a?!f&&t[e]&&(s=!0):delete t[e],s?t[e]=i:T(t,e,i)):s?t[e]=i:j(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||bt(this)}))})),Ft=K.concat("length","prototype"),Gt={f:Object.getOwnPropertyNames||function(t){return J(t,Ft)}},Wt={f:Object.getOwnPropertySymbols},Dt=tt("Reflect","ownKeys")||function(t){var e=Gt.f(g(t)),n=Wt.f;return n?e.concat(n(t)):e},Nt=function(t,e){for(var n=Dt(e),r=S.f,o=Ct.f,i=0;i<n.length;i++){var c=n[i];P(t,c)||r(t,c,o(e,c))}},Vt=/#|\.prototype\./,Ht=function(t,e){var n=zt[qt(t)];return n==Ut||n!=Bt&&("function"==typeof e?c(e):!!e)},qt=Ht.normalize=function(t){return String(t).replace(Vt,".").toLowerCase()},zt=Ht.data={},Bt=Ht.NATIVE="N",Ut=Ht.POLYFILL="P",Yt=Ht,Jt=Ct.f,Kt=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Xt=rt("IE_PROTO"),Qt=Object.prototype,Zt=Kt?Object.getPrototypeOf:function(t){return t=Object(f(t)),P(t,Xt)?t[Xt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Qt:null},$t=G("iterator"),te=!1;[].keys&&("next"in(Pt=[].keys())?(Lt=Zt(Zt(Pt)))!==Object.prototype&&(_t=Lt):te=!0);var ee=null==_t||c((function(){var t={};return _t[$t].call(t)!==t}));ee&&(_t={}),P(_t,$t)||T(_t,$t,(function(){return this}));var ne={IteratorPrototype:_t,BUGGY_SAFARI_ITERATORS:te},re=S.f,oe=G("toStringTag"),ie=function(t,e,n){t&&!P(t=n?t:t.prototype,oe)&&re(t,oe,{configurable:!0,value:e})},ce=ne.IteratorPrototype,ue=function(){return this},ae=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return g(n),function(t){if(!h(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),se=ne.IteratorPrototype,fe=ne.BUGGY_SAFARI_ITERATORS,le=G("iterator"),pe=function(){return this},he=Et.set,ye=Et.getterFor("Array Iterator"),ve=function(t,e,n,r,i,c,u){!function(t,e,n){var r=e+" Iterator";t.prototype=at(ce,{next:O(1,n)}),ie(t,r,!1),pt[r]=ue}(n,e,r);var a,s,f,l=function(t){if(t===i&&d)return d;if(!fe&&t in y)return y[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},p=e+" Iterator",h=!1,y=t.prototype,v=y[le]||y["@@iterator"]||i&&y[i],d=!fe&&v||l(i),b="Array"==e&&y.entries||v;if(b&&(a=Zt(b.call(new t)),se!==Object.prototype&&a.next&&(Zt(a)!==se&&(ae?ae(a,se):"function"!=typeof a[le]&&T(a,le,pe)),ie(a,p,!0))),"values"==i&&v&&"values"!==v.name&&(h=!0,d=function(){return v.call(this)}),y[le]!==d&&T(y,le,d),pt[e]=d,i)if(s={values:l("values"),keys:c?d:l("keys"),entries:l("entries")},u)for(f in s)(fe||h||!(f in y))&&Rt(y,f,s[f]);else!function(t,e){var n,r,i,c,u,a=t.target,s=t.global,f=t.stat;if(n=s?o:f?o[a]||j(a,{}):(o[a]||{}).prototype)for(r in e){if(c=e[r],i=t.noTargetGet?(u=Jt(n,r))&&u.value:n[r],!Yt(s?r:a+(f?".":"#")+r,t.forced)&&void 0!==i){if(typeof c==typeof i)continue;Nt(c,i)}(t.sham||i&&i.sham)&&T(c,"sham",!0),Rt(n,r,c,t)}}({target:e,proto:!0,forced:fe||h},s);return s}(Array,"Array",(function(t,e){he(this,{type:"Array Iterator",target:l(t),index:0,kind:e})}),(function(){var t=ye(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");pt.Arguments=pt.Array,lt("keys"),lt("values"),lt("entries");var de=G("iterator"),be=G("toStringTag"),ge=ve.values;for(var we in i){var me=o[we],Se=me&&me.prototype;if(Se){if(Se[de]!==ge)try{T(Se,de,ge)}catch(t){Se[de]=ge}if(Se[be]||T(Se,be,we),i[we])for(var Oe in ve)if(Se[Oe]!==ve[Oe])try{T(Se,Oe,ve[Oe])}catch(t){Se[Oe]=ve[Oe]}}}function Te(t){this.wrapped=t}function je(t){var e,n;function r(e,n){try{var i=t[e](n),c=i.value,u=c instanceof Te;Promise.resolve(u?c.wrapped:c).then((function(t){u?r("return"===e?"return":"next",t):o(i.done?"return":"normal",t)}),(function(t){r("throw",t)}))}catch(t){o("throw",t)}}function o(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,o){return new Promise((function(i,c){var u={key:t,arg:o,resolve:i,reject:c,next:null};n?n=n.next=u:(e=n=u,r(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(je.prototype[Symbol.asyncIterator]=function(){return this}),je.prototype.next=function(t){return this._invoke("next",t)},je.prototype.throw=function(t){return this._invoke("throw",t)},je.prototype.return=function(t){return this._invoke("return",t)};function ke(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function _e(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function Le(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Pe=new WeakMap,Ee=new WeakMap,xe=new WeakMap,Ae=new WeakSet,Ie=new WeakSet;class Me{constructor(t,e,n){Ie.add(this),Ae.add(this),Pe.set(this,{writable:!0,value:void 0}),Ee.set(this,{writable:!0,value:{}}),xe.set(this,{writable:!0,value:null}),_e(this,Pe,t),Le(this,Ae,Ce).call(this,e,n)}static connect(t,e=null){if(void 0===global.ab)throw new Error("GosSocket requires AutobahnJS to be loaded.");return new Me(global.ab,t,e)}get autobahn(){return ke(this,Pe)}get session(){return ke(this,xe)}isConnected(){return null!==ke(this,xe)}off(t,e){if(!(ke(this,Ee)[t]instanceof Array))return;let n,r=ke(this,Ee)[t],o=r.length;for(n=0;n<o;n++)if(r[n]===e){r.splice(n,1);break}}on(t,e){void 0===ke(this,Ee)[t]&&(ke(this,Ee)[t]=[]),ke(this,Ee)[t].push(e)}publishToTopic(t,e={}){if(!this.isConnected())throw new Error("Websocket session is not active, cannot publish to URI");ke(this,xe).publish(t,e)}rpcCall(t,e={}){if(!this.isConnected())throw new Error("Websocket session is not active, cannot perform RPC call");return ke(this,xe).call(t,e)}subscribeToChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot subscribe to channel");try{ke(this,xe).subscribe(t,e)}catch(t){if(-1===t.message.indexOf(" already subscribed for topic "))throw t}}unsubscribeFromChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot unsubscribe from channel");try{ke(this,xe).unsubscribe(t,e)}catch(t){if(-1===t.message.indexOf("not subscribed to topic ")&&-1===t.message.indexOf(" subscribed on topic "))throw t}}}var Ce=function(t,e=null){ke(this,Pe).connect(t,(t=>{_e(this,xe,t),Le(this,Ie,Re).call(this,"socket/connect",t)}),((t,e,n)=>{_e(this,xe,null),Le(this,Ie,Re).call(this,"socket/disconnect",{code:t,reason:e})}),e)},Re=function(t,e=null){if(!(ke(this,Ee)[t]instanceof Array))return;let n,r=ke(this,Ee)[t],o=r.length;for(n=0;n<o;n++)r[n].call(this,e)};export default Me;
